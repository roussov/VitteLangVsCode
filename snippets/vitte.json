{
  "Module": {
    "prefix": ["mod", "module"],
    "body": ["module ${1:my.module}"],
    "description": "Déclaration de module"
  },
  "Use import": {
    "prefix": ["use", "import"],
    "body": ["use ${1:path::to::item}${2: as ${3:alias}}"],
    "description": "Import (use ... as ...)"
  },
  "Public use": {
    "prefix": ["pubuse"],
    "body": ["pub use ${1:path::to::item}${2: as ${3:alias}}"],
    "description": "Import public (ré-export)"
  },

  "Function": {
    "prefix": ["fn"],
    "body": [
      "fn ${1:name}(${2:params})${3: -> ${4:Type}} {",
      "\t$0",
      "}"
    ],
    "description": "Définition de fonction"
  },
  "Public function": {
    "prefix": ["pfn", "pubfn"],
    "body": [
      "pub fn ${1:name}(${2:params})${3: -> ${4:Type}} {",
      "\t$0",
      "}"
    ],
    "description": "Définition de fonction publique"
  },
  "Main": {
    "prefix": ["main"],
    "body": [
      "fn main() {",
      "\t$0",
      "}"
    ],
    "description": "Point d’entrée"
  },
  "Return": {
    "prefix": ["ret", "return"],
    "body": ["return ${1:value};"],
    "description": "Instruction return"
  },

  "Struct": {
    "prefix": ["struct", "st"],
    "body": [
      "struct ${1:Name} {",
      "\t${2:field}: ${3:Type},",
      "}"
    ],
    "description": "Déclaration de struct"
  },
  "Public Struct": {
    "prefix": ["pstruct", "pubstruct"],
    "body": [
      "pub struct ${1:Name} {",
      "\t${2:field}: ${3:Type},",
      "}"
    ],
    "description": "Struct publique"
  },
  "Enum": {
    "prefix": ["enum", "en"],
    "body": [
      "enum ${1:Name} {",
      "\t${2:Variant1},",
      "\t${3:Variant2}${4:( ${5:fields} )}",
      "}"
    ],
    "description": "Déclaration d’enum"
  },
  "Public Enum": {
    "prefix": ["penum", "pubenum"],
    "body": [
      "pub enum ${1:Name} {",
      "\t${2:Variant1},",
      "\t${3:Variant2}${4:( ${5:fields} )}",
      "}"
    ],
    "description": "Enum publique"
  },
  "Trait": {
    "prefix": ["trait"],
    "body": [
      "trait ${1:TraitName} {",
      "\tfn ${2:method}(${3:&self})${4: -> ${5:Type}};",
      "}"
    ],
    "description": "Déclaration de trait (interface)"
  },
  "Impl": {
    "prefix": ["impl"],
    "body": [
      "impl ${1:TypeName} {",
      "\tpub fn ${2:new}(${3:})${4: -> Self} {",
      "\t\t$0",
      "\t}",
      "}"
    ],
    "description": "Bloc d’implémentation sur un type"
  },
  "Impl for Trait": {
    "prefix": ["implfor", "implt"],
    "body": [
      "impl ${1:TraitName} for ${2:TypeName} {",
      "\tfn ${3:method}(${4:&self})${5: -> ${6:Type}} {",
      "\t\t$0",
      "\t}",
      "}"
    ],
    "description": "Implémenter un trait pour un type"
  },

  "Match": {
    "prefix": ["match"],
    "body": [
      "match ${1:expr} {",
      "\t${2:pattern} => ${3:expr},",
      "\t_ => ${4:default},",
      "}"
    ],
    "description": "Expression de sélection (match)"
  },
  "Match Option": {
    "prefix": ["matchopt", "mopt"],
    "body": [
      "match ${1:opt} {",
      "\tSome(${2:val}) => ${3},",
      "\tNone => ${4},",
      "}"
    ],
    "description": "Pattern matching sur Option"
  },
  "Match Result": {
    "prefix": ["matchres", "mres"],
    "body": [
      "match ${1:res} {",
      "\tOk(${2:val}) => ${3},",
      "\tErr(${4:err}) => ${5},",
      "}"
    ],
    "description": "Pattern matching sur Result"
  },

  "If": {
    "prefix": ["if"],
    "body": [
      "if ${1:cond} {",
      "\t$0",
      "}"
    ],
    "description": "Bloc if"
  },
  "If / Else": {
    "prefix": ["ife", "ifelse"],
    "body": [
      "if ${1:cond} {",
      "\t${2}",
      "} else {",
      "\t${3}",
      "}"
    ],
    "description": "Bloc if/else"
  },
  "Else if": {
    "prefix": ["elif", "elseif"],
    "body": [
      "else if ${1:cond} {",
      "\t$0",
      "}"
    ],
    "description": "Branche else if"
  },
  "For in": {
    "prefix": ["for"],
    "body": [
      "for ${1:item} in ${2:iterable} {",
      "\t$0",
      "}"
    ],
    "description": "Boucle for-in"
  },
  "While": {
    "prefix": ["while"],
    "body": [
      "while ${1:cond} {",
      "\t$0",
      "}"
    ],
    "description": "Boucle while"
  },
  "Loop": {
    "prefix": ["loop"],
    "body": [
      "loop {",
      "\t$0",
      "}"
    ],
    "description": "Boucle infinie"
  },

  "Let binding": {
    "prefix": ["let"],
    "body": ["let ${1:name}${2:: ${3:Type}} = ${4:init};"],
    "description": "Déclaration avec let"
  },
  "Const": {
    "prefix": ["const"],
    "body": ["const ${1:NAME}${2:: ${3:Type}} = ${4:value};"],
    "description": "Constante"
  },

  "Attribute": {
    "prefix": ["attr", "#["],
    "body": ["#[${1:attribute}]"],
    "description": "Attribut #[...]"
  },
  "Derive": {
    "prefix": ["derive"],
    "body": ["#[derive(${1:Debug,Clone})]"],
    "description": "Attribut derive"
  },
  "Doc line": {
    "prefix": ["doc", "///"],
    "body": ["/// ${1:Description}"],
    "description": "Commentaire de documentation (ligne)"
  },
  "Doc block": {
    "prefix": ["/**", "docb"],
    "body": [
      "/**",
      " * ${1:Résumé}",
      " *",
      " * ${2:Détails}",
      " */"
    ],
    "description": "Bloc de documentation"
  },
  "Comment line": {
    "prefix": ["//"],
    "body": ["// ${1:note}"],
    "description": "Commentaire simple"
  },
  "Comment block": {
    "prefix": ["/*"],
    "body": [
      "/*",
      " ${1:commentaire}",
      " */"
    ],
    "description": "Commentaire multi-lignes"
  },

  "Panic": {
    "prefix": ["panic"],
    "body": ["panic(${1:\"message\"});"],
    "description": "Arrêt avec message (panic)"
  },

  "Test": {
    "prefix": ["test", "utest"],
    "body": [
      "#[test]",
      "fn ${1:it_works}() {",
      "\t$0",
      "}"
    ],
    "description": "Test unitaire"
  },
  "Benchmark": {
    "prefix": ["bench"],
    "body": [
      "#[bench]",
      "fn ${1:bench_case}() {",
      "\t$0",
      "}"
    ],
    "description": "Gabarit de benchmark"
  },

  "Macro call": {
    "prefix": ["mac", "macro"],
    "body": ["${1:name}!(${2:args})${3:;}"],
    "description": "Appel de macro name!(...)"
  },

  "File header": {
    "prefix": ["header", "filehdr"],
    "body": [
      "/// ${TM_FILENAME}",
      "/// ${CURRENT_YEAR}-${CURRENT_MONTH}-${CURRENT_DATE}",
      "/// ${1:Description}"
    ],
    "description": "Entête de fichier"
  }
}
